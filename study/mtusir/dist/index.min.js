/*!!! mtusir 18-11-2014 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["zepto"],b):a.slidePage=b(a.$)}(window,function(a){function b(b,d){return d=a.extend(c,d||{}),this.opts=d,b=b.get(0),this.el=b,this.els=a(b.children[0]).find(">div"),this.elCount=this.els.length,this.wh=b.getBoundingClientRect().width||b.offsetWidth||window.innerWidth,null==b||this.elCount<=1?void 0:(this.current=this.els[d.current],this.currentShow=this.current,this.disX=0,this.px=0,this.dis=d.dis,this.moving=!1,this.timmer=null,this.init().initEvent().initsetTimeout())}var c={time:3e3,sepTime:500,dis:30,current:0,isShowPoint:!1,transitionEnd:function(){},isAutoPlay:!0},d=function(a,b,c){if(null!=a){var d=Array.prototype.forEach;if(d&&a.forEach===d)a.forEach(b,c);else if(a.length===+a.length)for(var e=0,f=a.length;f>e&&b.call(c,a[e],e,a)!==!1;e++);}},e=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return b[c]}();return a},f=e(),g=function(a,b,c){var d=a&&a.style;d&&(d.webkitTransitionDuration=d.MozTransitionDuration=d.msTransitionDuration=d.OTransitionDuration=d.transitionDuration=c+"ms",d.webkitTransform="translate3d("+b+"px,0,0)",d.msTransform=d.MozTransform=d.OTransform="translateX("+b+"px)")},h=function(){for(var a,b=arguments,c=b[0],d=b.length,e=1;d>e;e++){a=b[e];for(var f in a)c[f]=a[f]}return c};return h(b.prototype,{createBtn:function(){this.nextUl=document.createElement("ul"),this.nextUl.classList.add("list");var a,b=document.createDocumentFragment(),c=this.elCount,d=0;for(b.appendChild(document.createElement("i"));c>d;d++)a=document.createElement("li"),b.appendChild(a);return this.nextUl.appendChild(b),this.el.appendChild(this.nextUl),this},init:function(){this.opts.isShowPoint&&this.createBtn();var a=this;return d(this.els,function(b,c){a.els[c].index=c,c===a.opts.current||g(a.els[c],a.wh,0)}),this.opts.isShowPoint&&(this.smallPoint=this.nextUl.children[0],this.points=[],d(this.nextUl.children,function(b){"LI"===b.tagName&&a.points.push(b)})),this},initEvent:function(){var a=this;return window.addEventListener("resize orientationchange",function(){a.wh=a.el.getBoundingClientRect().width||a.el.offsetWidth||window.innerWidth}),this.touchstart().touchmove().touchend().touchcancel()},touchstart:function(){var a=this;return this.els.on("touchstart",function(b){if(a.moving)return void(a.startMoving=!0);a.startMoving=!1,a.current=this;var c=b.touches[0];a.px=c.pageX}),a},touchmove:function(){var a=this;return this.els.on("touchmove",function(b){if(!a.moving&&!a.startMoving){clearTimeout(a.timmer),b.preventDefault(),b.stopPropagation();var c,d,e,f=b.touches[0],g=f.pageX;a.current=this,this.classList.add("moving"),a.disX=c=g-a.px,c>0&&this.index>=0?(e=0===this.index?a.els[a.elCount-1]:a.els[this.index-1],e.classList.add("moving"),a.setTransform(e,-a.wh+c)):0>c&&this.index<a.elCount&&(d=this.index===a.elCount-1?a.els[0]:a.els[this.index+1],d.classList.add("moving"),a.setTransform(d,a.wh+c)),a.setTransform(this,c)}}),a},touchend:function(){var a=this;return this.els.on("touchend",function(){return a.startMoving||a.moving?void(a.startMoving=!1):(this.moving=!0,clearTimeout(a.timmer),a.current=this,a.reset(),void(a.disX=0))}),a},touchcancel:function(){var a=this;return this.els.on("touchcancel",function(){this.moving=!0,a.current=this,a.reset(),a.disX=0}),a},initsetTimeout:function(){var a=this;return a.opts.isAutoPlay!==!0?a:(clearTimeout(this.timmer),a.timmer=setTimeout(function(){a.moving||a.setTimeoutMove()},a.opts.time),a)},setTimeoutMove:function(){this.moving=!0;var a=this,b=this.currentShow,c=b.index,d=b.nextElementSibling;c==this.elCount-1&&(d=this.els[0],c=-1),a.setTransform(d,a.wh,0),setTimeout(function(){a.setTransform(d,0),a.setTransform(a.currentShow,-a.wh),a.setTransform(a.smallPoint,12*(c+1)),a.current=d,a.currentShow=d},0)},reset:function(){var a=this,b=this.current,c=b.nextElementSibling,d=b.previousElementSibling;return a.disX>-a.dis&&a.disX<a.dis?(a.setTransform(this.current,0),a.disX>0&&d&&a.setTransform(d,-a.wh),a.disX<0&&c&&a.setTransform(c,a.wh),a.initsetTimeout(),a.currentShow=b,void(this.moving=!1)):(b.index==a.elCount-1&&a.disX<0?c=a.els[0]:a.disX>0&&0==b.index&&(d=a.els[a.elCount-1]),b.classList.remove("moving"),c&&c.classList.remove("moving"),d&&d.classList.remove("moving"),void this.move(d,c))},move:function(a,b){this.moving=!0;var c=this,d=this.current,e=c.wh,f=c.disX<-c.dis?-e:e,g=null,h=12;c.disX>0&&d.index>=0?(g=a,h=0===d.index?12*(c.elCount-1):12*(d.index-1)):c.disX<0&&d.index<c.elCount&&(g=b,h=d.index===c.elCount-1?0:12*(d.index+1)),c.setTransform(c.current,f),g&&c.setTransform(g,0),this.currentShow=g,c.smallPoint&&c.setTransform(c.smallPoint,h)},moveEnd:function(){this.moving=!1,this.opts.transitionEnd.call(this),this.initsetTimeout()},setTransform:function(a,b,c){c="undefined"==typeof c?this.opts.sepTime:0,g(a,b,c);var d=this,e=!1,h=f,i=function(a){if("undefined"!=typeof a){if(a.target!==a.currentTarget)return;a.target.removeEventListener(h,i)}else this.removeEventListener(h,i);e=!0,d.moveEnd&&d.moveEnd.call(d)};return c>0&&(a.addEventListener(h,i,!1),setTimeout(function(){e||i.call(a)},c+25)),a}}),b}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):a.utils=b()}(window,function(){var a=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return b[c]}();return a},b=function(b,c,d,e){var f,g=b&&b.style,h=!1,i=a();d=d||300,g&&(g.webkitTransitionDuration=g.MozTransitionDuration=g.msTransitionDuration=g.OTransitionDuration=g.transitionDuration=d+"ms",g.webkitTransform="translate3d("+c+"px,0,0)",g.msTransform=g.MozTransform=g.OTransform="translateX("+c+"px)",f=function(a){if("undefined"!=typeof a){if(a.target!==a.currentTarget)return;a.target.removeEventListener(i,f)}else b.removeEventListener(i,f);h=!0,e&&e.call(this)},d>0&&(b.addEventListener(i,f),setTimeout(function(){h||f.call(b)},d+25)))};return{geTransitionEnd:a,translate:b}}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["zepto","utils"],b):b(a.$,a.utils)}(window,function(a,b){function c(){var b,c,d;f.$els=a("a[data-href]"),a.each(f.$els,function(e,g){b=a(g),c=b.data("href"),d=a(c),d.length&&(f.jumpEls[c]=d)})}function d(){a.each(f.$els,function(){a(this).on("click",e)})}function e(b){var c,b=a(this),d=f.jumpEls,e=b.data("href"),g={};if(!a(e).hasClass(".show"))for(var h in d)d.hasOwnProperty(h)&&(c=d[h],e!==h?c.hasClass(".show")&&(g.hideEl=c):g.showEl=c)}var f={jumpEls:{},$els:""};a(function(){c(),d(),new slidePage(a("#slider"),{isAutoPlay:!1,current:2})})});
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
<meta content="telephone=no" name="format-detection">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="description" content="">
<meta name="keywords" content="">
<link href="load.css" rel="stylesheet" />
</head>
<body>
    <input type="button" value="Test1" id="btnTest1" />
    <input type="button" value="Test2" id="btnTest2" />
    <input type="button" value="Test3" id="btnTest3" />
    <script src="../../../dist/zepto.js"></script>
    <script src="loadingDialog.js"></script>
    <script type="text/javascript">
        $(function () {
            /* var opts = {
                 loadingClass: 'loadingDialog',
                 /* overlayClass: 'loading-overlay',
                 spinnerClass: 'loading-spinner',
                 iconClass: 'loading-icon',                  // icon#1#
                 loadingTextClass: 'loadingTextClass',                   // 文字的class
                 loadingText: 'loading',                       // 加载时的文本
                 timeOut: 0                                          //时间设置为0 将一直存在不消失，如果设置具体时间，将在指定时间自动消失
             };
             var overlay = '<div class="' + opts.loadingClass + '">' +
             '<div id="loading-circular">                                                        ' +
             '     <div id="loading-circular_1" class="loading-circular"></div>' +
             '     <div id="loading-circular_2" class="loading-circular"></div>' +
             '     <div id="loading-circular_3" class="loading-circular"></div>' +
             '     <div id="loading-circular_4" class="loading-circular"></div>' +
             '     <div id="loading-circular_5" class="loading-circular"></div>' +
             '     <div id="loading-circular_6" class="loading-circular"></div>' +
             '     <div id="loading-circular_7" class="loading-circular"></div>' +
             '     <div id="loading-circular_8" class="loading-circular"></div>' +
             '     <div class="clearfix"></div>                                                 ' +
             '    </div>                                                                                    ' +
              //'<span class="' + opts.iconClass + '"></span>' +
              '<span class="' + opts.loadingTextClass + '">' + opts.loadingText + '</span>' +
              '</p></div>';
             $('#btnTest1').on('click', function () {
                 var $loadDiv = $('<div class="loading-masklayer"></div>');
                 var $load = $(overlay);
                 $('body').append($loadDiv).append($load);
                 setObjCenter($load).show();
             });

             function setObjCenter(obj) {
                 if (!obj) { return obj; }
                 var $obj = $(obj);
                 var top = ($(window).height() - $obj.height()) / 2;
                 var left = ($(window).width() - $obj.width()) / 2;
                 $obj.css({
                     left: left,
                     top: top
                 });
                 return $obj;
             }

             var reszieTimmer;
             $(window).on('resize', function () {
                 var loadingDialog = $('.loadingDialog');
                 if (!loadingDialog) {
                     return;
                 }
                 reszieTimmer && clearTimeout(reszieTimmer);
                 reszieTimmer = setTimeout(function () {
                     setObjCenter(loadingDialog);
                 }, 50);

             });

             $('body').on('click', '.loading-masklayer', function () {
                 $(this).remove();
             });*/

            $('#btnTest1').on('click', function () {
                $.loadingDialog({ timeOut: 100000, loadingText: '数据加载中,请稍等……',locked:false });
            });

            $('#btnTest2').on('click', function () {
                $.loadingDialog({ timeOut: 100000, loadingText: '数据加载中,请稍等……'});
            });

            $('#btnTest3').on('click', function () {
                $.loadingDialog({ timeOut: 3000, loadingText: '数据加载中……'});
            });
        });
    </script>
</body>
</html>

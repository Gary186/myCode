<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <link rel="stylesheet" type="text/css" href="../../../../source-code-study/bootstrap-3.2.0/dist/css/bootstrap.css">
</head>
    <body>
        <div id="example"></div>
        <script src="../../react-0.14.6/react.js"></script>
        <script src="../../react-0.14.6/react-dom.js"></script>
        <script src="../../react-0.14.6/brower.min.js"></script>
        <script type="text/babel">
        //复习下
        var con = document.getElementById('example');
        /********************demo1 Render JSX ***************************/

        /*ReactDOM.render( <h1>Hello, world!</h1>, con );*/


        /********************demo2 Use JavaScript in JSX***************************/
         /*var names = ['little', 'bear', 'Bond'];
          ReactDOM.render(
            <div>
                {
                    names.map(function (name , index) {
                        return <div className="alert alert-success" key={index} role="alert">Hello {name} !</div>
                    })
                }
            </div>,
            con
          );*/

        /********************demo3 Use array in JSX***************************/
        /*  var arr = [
            <h1>Hello world!</h1>,
            <h2>React is awesome</h2>
          ];

          ReactDOM.render( <div>{arr}</div>, con );*/

        /********************demo4 Define a component***************************/
          /*var HelloMessage = React.createClass({
            render: function() {
              console.log(this.props , this);
              return <h1 className="alert alert-success"  >Hello {this.props.name}</h1>;
            }
          });
          ReactDOM.render(
            <HelloMessage name="littlebear" title="title-test"/>,
            con
          );*/
        /********************demo5 this.props.children***************************/
        /*var NotesList = React.createClass({
            render: function() {
                    return (
                        <ul className="list-group">
                            {
                                React.Children.map(this.props.children, function (child) {
                                  return <li className="list-group-item" >{child}</li>
                                })
                            }
                        </ul>
                    );
                }
            });

        ReactDOM.render(
            <NotesList>
              <span>hello</span>
              <span>world</span>
              <span>little</span>
              <span>bear</span>
            </NotesList>,
            con
          );*/

        /********************demo6 PropTypes***************************/
        /*var MyTitle = React.createClass({
          propTypes: {
            title: React.PropTypes.string.isRequired,
          },
          render: function() {
             return <h1> {this.props.title} </h1>;
           }
        });
        var data = 'littlebear';
        ReactDOM.render( <MyTitle title={data} />, con );*/

        /********************demo7 Finding a DOM node***************************/
        /*var MyComponent = React.createClass({
          handleClick: function() {
            this.refs.myTextInput.focus();
          },
          clearInput() {
            this.refs.myTextInput.value = '';
          },
          reverseInput() {
            var val = this.refs.myTextInput.value;
            if (!val) {
              return;
            }
            this.refs.myTextInput.value = val.split('').reverse().join('');
          },
          render: function() {
            return (
            <div>
                <div className="input-group">
                  <input type="text" className="form-control" defaultValue={this.props.testAttr} placeholder="Username" ref="myTextInput"/>
                  <span className="input-group-addon" onClick={this.handleClick} >Focus the text input </span>
                </div>
                <button type="button" className="btn btn-default" onClick={this.clearInput} >clear input value</button>
                <button type="button" className="btn btn-default" onClick={this.reverseInput} >reverse input value</button>
            </div>
            );
          }
        });

        ReactDOM.render( <MyComponent testAttr="testAttr-{this.props.name}"/>, con );*/
        /********************demo8 this.state***************************/
        /*var LikeButton = React.createClass({
            getInitialState() {
                return {
                    liked: false
                };
            },
            handleClick: function(event) {
                this.setState({
                    liked: !this.state.liked
                });
            },
            render() {
                var text = this.state.liked ? 'like' : 'haven\'t liked';
                return ( <div className="alert alert-success" onClick = {this.handleClick} > You {text } this.  <span className="badge">Click to toggle.</span> {this.props.title}</div> );
            },
            componentWillMount() {
                  console.log('componentWillMount')
            },
            componentDidMount() {
              console.log('componentDidMount')
              setTimeout(function () {
                this.setState({
                  liked: !this.state.liked
                });
              }.bind(this),2000)
            },
        });

        ReactDOM.render( <LikeButton title="title-props"/> , con );*/
        /********************demo9 Form***************************/
        /*var Input = React.createClass({
          getInitialState: function() {
            return {value: 'Hello!'};
          },
          handleChange: function(event) {
            this.setState({value: event.target.value});
          },
          handleClick() {
            this.refs.myTextInput.focus();
          },
          render: function () {
            var value = this.state.value;
            return (
              <div>
                <div className="input-group">
                  <input type="text" className="form-control" onChange={this.handleChange} placeholder="Username" ref="myTextInput"/>
                  <span className="input-group-addon" onClick={this.handleClick} >Focus the text input </span>
                </div>
                <div className="alert alert-success" > {value} </div>
              </div>
            );
          }
        });
        ReactDOM.render(<Input/>, con);*/
        /********************demo10 Component Lifecycle***************************/
        /*var Hello = React.createClass({
          getInitialState: function () {
            return {
              opacity: 1.0
            };
          },
          componentDidMount: function () {
            this.timer = setInterval(function() {
                var opacity = this.state.opacity;
                opacity -= .005;
                if (opacity < 0.1) {
                    opacity = 1.0;
                }
                this.setState({
                    opacity: opacity
                });
            }.bind(this), 1000/60);
          },
          render: function () {
            return (
              <div className="alert alert-success" style={{opacity: this.state.opacity}}>
                Hello {this.props.name}
              </div>
            );
          }
        });
        ReactDOM.render(<Hello name="hello little bear"/>, con );*/
        </script>
    </body>
</html>

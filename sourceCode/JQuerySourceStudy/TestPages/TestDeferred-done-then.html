<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>tokenize</title>
	<script src="../JQuery2-3/jquery-2.0.3.js"></script>
</head>
<body>
	<script type="text/javascript">
		/*var defer = $.Deferred(); //构建异步对象
		setTimeout(function(){
			defer.resolve( 5 );
			filtered.done(function( value ) {
				console.log('3333打印出值',value)
			});
		},1000);

		var filtered  = defer.then(function( value ) {
			return value * 2;
		});

		filtered.done(function( value ) {
			console.log('1111打印出值',value)
		}).done(function( value ) {
			console.log('2222打印出值',value)
		});*/

	</script>
	<button>Go</button>
	<p>Ready...</p>
	<script>
		/* 3 functions to call when the Deferred object is resolved */
		function fn1() {
			$("p").append(" 1 ");
		}
		function fn2() {
			$("p").append(" 2 ");
		}
		function fn3(n) {
			$("p").append(n + " 3 " + n);
		}
		///* create a deferred object */
		var dfd = $.Deferred();
		 //add handlers to be called when dfd is resolved
		dfd
		 //.done() can take any number of functions or arrays of functions
		.done( [fn1, fn2], fn3, [fn2, fn1] )
		 //we can chain done methods, too
		.done(function(n) {
			$("p").append(n + " we're done.");
		});
		 //resolve the Deferred object when the button is clicked
		$("button").bind("click", function() {
			dfd.resolve("and");
		});
		//1 2 and 3 and 2 1 and we're done.
	</script>
</body>
</html>
